@{
ViewData["Title"] = "Home Page";
}

<head>
    <link href="~/css/InicioUsuario.css" rel="stylesheet" />
</head>

<div class="container">
        <div class="c-jornada m-bottom">
            <h1>Jornada</h1>
            <p class="c-jornada-p">
                Complete quiz sobre as tags mais usadas em HTML
            </p>
            <div class="start">
                <button class="btn-start" onclick="iniciarQuiz()">
                    Iniciar jornada em <span class="name-lingue">HTML</span>
                </button>
            </div>
        </div>

    <div class="c-dificuldade m-bottom">
        <div class="right-dificuldade t-porcentagem">
            <div class="c-btn-dificuldade">
                <button class="dificuldade1" onclick="selecionaNivel('1')" >Facil</button>
                <button class="dificuldade2 btn-dificuldade" onclick="selecionaNivel('2')">Medio</button>
                <button class="dificuldade3 btn-dificuldade" onclick="selecionaNivel('3')">Avançado</button>
            </div>
        </div>
    </div>

        <div class="c-linguagens">
            <div class="linguagens">
                <div class="c-html p-ling">
                    <button class="html" onclick="selecionaLinguagem('html')">Html</button>
                </div>
                <div class="c-css p-ling no-select">
                    <button class="css" onclick="selecionaLinguagem('css')">Css</button>
                </div>
                <div class="c-js p-ling no-select">
                    <button class="js" onclick="selecionaLinguagem('javascript')">js</button>
                </div>
                <div class="c-sql p-ling no-select">
                    <h1 class="sql">SQL</h1>
                </div>
                <div class="c-php p-ling no-select">
                    <h1 class="php">PHP</h1>
                </div>
                <div class="c-csharp p-ling no-select">
                    <h1 class="c#">C#</h1>
                </div>
            </div>
        </div>
</div>

<script>
    let linguagemSelecionada = 'html';
    let nivelSelecionado = '1';

    function selecionaLinguagem(linguagem) {
        linguagemSelecionada = linguagem;
        const spanLang = document.querySelector('.name-lingue');
        console.log("linguagem:", linguagemSelecionada);

        switch (linguagem) {
            case 'html':
                spanLang.innerText = 'html';
                spanLang.style.color = '#ff4d00';
                break;
            case 'css':
                spanLang.innerText = 'css';
                spanLang.style.color = '#0038ff';
                break;
            case 'javascript':
                spanLang.innerText = 'js';
                spanLang.style.color = '#ffaf00';
                break;
            default: spanLang.innerText = 'html';
                break;
        }
    }

    function selecionaNivel(nivel) {
        nivelSelecionado = nivel;
    }

    function iniciarQuiz(){
        let query = `?lang=${encodeURIComponent(linguagemSelecionada)}&nivel=${encodeURIComponent(nivelSelecionado)}`
        window.location.href = '@Url.Action("Index", "Quiz")' + query;
    }
</script>
